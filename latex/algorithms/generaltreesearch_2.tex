\begin{algorithm}[H]
    \caption{Extended General Tree Search (EGTS)}
    \label{alg:general_tree_search_2}
    \begin{algorithmic}[1]
    
    \Procedure{TreeSearch}{$s$}
        \State Frontier $\leftarrow$ Queue
        \State Root $\leftarrow$ TreeNode($s$)
        \State Frontier.Push(Root)
        \While{\textbf{not} ShouldTerminate()}
            \State Node $\leftarrow$ Select(Root, Frontier)
            \State Leaf $\leftarrow$ Expand(Node)
            \State Value $\leftarrow$ None
            \If{ShouldEvaluate(Leaf)}
                \State Value $\leftarrow$ Evaluate(Leaf)
            \EndIf
            \If{ShouldBackpropagate(Leaf, Value)}
                \State Backpropagate(Leaf, Value)
            \EndIf
            \State Reflect(Root)
        \EndWhile
        \State \Return GetBestMove(Root)
    \EndProcedure
    \end{algorithmic}
\end{algorithm}